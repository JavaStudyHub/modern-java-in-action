# Chapter 13. λ””ν΄νΈ λ©”μ„λ“ (13.1 - 13.2)

## 13.0 κ°μ”

### 13.0.1 μλ°” 8μ λ³€ν™”

- μλ°” 8 μ΄μ „μ—λ” μΈν„°νμ΄μ¤μ— λ©”μ„λ“λ¥Ό μ¶”κ°€ν•λ©΄ λ¨λ“  κµ¬ν„ ν΄λμ¤κ°€ κ·Έ λ©”μ„λ“λ¥Ό **λ°λ“μ‹ κµ¬ν„**ν•΄μ•Ό ν–λ‹¤.
- μΈν„°νμ΄μ¤μ— λ©”μ„λ“λ¥Ό μ¶”κ°€ν•λ©΄ κΈ°μ΅΄ κµ¬ν„ ν΄λμ¤λ¥Ό λ¨λ‘ μμ •ν•΄μ•Ό ν–κΈ° λ•λ¬Έμ— API μ§„ν™”μ— ν° μ μ•½μ΄ μƒκΈ°λ” λ¬Έμ κ°€ λ°μƒν•λ‹¤.
    - ex) μλ°” 8 APIμ—μ„ List μΈν„°νμ΄μ¤μ— `sort` λ©”μ„λ“κ°€ μ¶”κ°€λμ—λ”λ° κΈ°μ΅΄μ List μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•΄λ‘” Guava, Apache Common κ°™μ€ μ»¬λ ‰μ… ν”„λ μ„μ›ν¬κ°€ λ¨λ‘ List μΈν„°νμ΄μ¤λ¥Ό μƒμ†ν• λ¨λ“  ν΄λμ¤λ¥Ό μμ •ν•΄μ•Ό ν•λ‹¤.
- μλ°” 8μ—μ„λ” μ΄λ¬ν• λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ **κΈ°λ³Έ κµ¬ν„μ„ ν¬ν•¨ν•λ” μΈν„°νμ΄μ¤**λ¥Ό μ •μν•λ” λ‘ κ°€μ§€ λ°©λ²•μ„ μ κ³µν•λ‹¤.
    1. μΈν„°νμ΄μ¤ λ‚΄λ¶€μ— **μ •μ  λ©”μ„λ“(static method)** μ‚¬μ©
    2. μΈν„°νμ΄μ¤μ κΈ°λ³Έ κµ¬ν„μ„ μ κ³µν•  μ μλ„λ΅ **λ””ν΄νΈ λ©”μ„λ“(default method)** μ‚¬μ©
- κ²°κ³Όμ μΌλ΅ κΈ°μ΅΄ κµ¬ν„μ„ λ³€κ²½ν•μ§€ μ•κ³ λ„ μƒλ΅μ΄ κΈ°λ¥μ„ μΈν„°νμ΄μ¤μ— μ¶”κ°€ν•  μ μκ² λμ—λ‹¤.

### 13.0.2 λ€ν‘μ μΈ μ‚¬μ© μ‚¬λ΅€

**λ””ν΄νΈ λ©”μ„λ“(default method)**

1. List μΈν„°νμ΄μ¤μ sort

```java
default void sort(Comparator<? super E> c) {
    Collections.sort(this, c);
}
```

1. Collection μΈν„°νμ΄μ¤μ stream 

```java
default Stream<E> stream() {
    return StreamSupport.stream(spliterator(), false);
}
```

**μ •μ  λ©”μ„λ“(static method)**

- Comparatorμ naturalOrder (μμ—°μμ„ - μ•νλ²³ μμ„λ΅ μ”μ†λ¥Ό μ •λ ¬)

```java
List<Integer> numbers = Arrays.asList(3, 5, 1, 2, 6);
numbers.sort(**Comparator.naturalOrder()**);
```

### 13.0.3 λ””ν΄νΈ λ©”μ„λ“μ κµ¬μ΅°μ  μ¥μ 

- **Ex) μΈν„°νμ΄μ¤μ— λ©”μ„λ“λ¥Ό μ¶”κ°€ν•λ” μƒν™©**

<img width="345" alt="α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί_2025-05-25_α„‹α…©α„’α…®_4 32 34" src="https://github.com/user-attachments/assets/e3505580-c134-46d7-aa15-00e18904b6b0" />

1. κΈ°μ΅΄μ— μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν΄λμ¤λ” κ·Έλ€λ΅ μ μ§€
2. μƒλ΅μ΄ λ©”μ„λ“λ” λ””ν΄νΈ κµ¬ν„μ„ ν†µν•΄ μλ™ μƒμ†
3. λΌμ΄λΈλ¬λ¦¬ μ„¤κ³„μ μ…μ¥μ—μ„λ” κΈ°μ΅΄ APIμ™€μ **νΈν™μ„± μ μ§€**μ™€ **κΈ°λ¥ ν™•μ¥**μ„ λ™μ‹μ— λ‹¬μ„± κ°€λ¥

> [!TIP]
> **μ •μ  λ©”μ„λ“ vs μΈν„°νμ΄μ¤**
> - **`Collections`κ°€ `Collection` κ°μ²΄λ¥Ό ν™μ©ν•λ” μ ν‹Έλ¦¬ν‹° ν΄λμ¤**μΈ κ²ƒμ²λΌ μλ°”μ—λ” μΈν„°νμ΄μ¤μ μΈμ¤ν„΄μ¤λ¥Ό ν™μ©ν•  μ μλ” λ‹¤μ–‘ν• μ •μ  λ©”μ„λ“λ¥Ό μ •μν•λ” μ ν‹Έλ¦¬ν‹° ν΄λμ¤λ¥Ό ν™μ©ν•λ‹¤.
> - μλ°” 8μ—μ„λ” μΈν„°νμ΄μ¤μ— μ§μ ‘ μ •μ  λ©”μ„λ“λ¥Ό μ„ μ–Έν•  μ μμΌλ―€λ΅ μ ν‹Έλ¦¬ν‹° ν΄λμ¤λ¥Ό μ—†μ• κ³  μ§μ ‘ μΈν„°νμ΄μ¤ λ‚΄λ¶€μ— μ •μ  λ©”μ„λ“λ¥Ό κµ¬ν„ν•  μ μκ² λμ—λ‹¤.
> - κ·ΈλΌμ—λ„ λ¶κµ¬ν•κ³  κ³Όκ±° λ²„μ „κ³Όμ νΈν™μ„±μ„ μ„ν•΄ μλ°” APIμ—λ” μ—¬μ „ν μ ν‹Έλ¦¬ν‹° ν΄λμ¤λ¥Ό λ‚¨κ²¨λ‘μ—λ‹¤. (μ¦‰, μ‚¬μ©μκ°€ μ›ν•λ©΄ μ»¤μ¤ν…€ν•μ—¬ μ„ μ–Έν•κ³  μ•„λ‹λ©΄ κΈ°μ΅΄ μ ν‹Έλ¦¬ν‹° ν΄λμ¤ μ‚¬μ© κ°€λ¥)

</br>

## 13.1 λ³€ν™”ν•λ” API

### 13.1.1 API λ²„μ „ 1

- Resizable μΈν„°νμ΄μ¤ μ΄κΈ° λ²„μ „

```java
public interface Resizable extends Drawable {
    int getWidth();
    int getHeight();
    void setWidth(int width);
    void setHeight(int height);
    void setAbsoluteSize(int width, int height);
}
```

- μ‚¬μ©μ κµ¬ν„ (Ellipse ν΄λμ¤)

```java
public class Ellipse implements Resiable {
		...
}
```

- (μμ‹ μ΄ λ§λ“  Ellipseλ¥Ό ν¬ν•¨ν•) λ‹¤μ–‘ν• Resiable λ¨μ–‘μ„ μ²λ¦¬ν•λ” κ²μ„

```java
public class Game {
  public static void main(String... args) {
      List<Resiable> resizableShapes = 
          Arrays.asList(new Square(), new Rectangle(), new Ellipse());
      Utils.paint(resiableShapes);
  }  
}

public class Utils {
  public static void paint(List<Resizable> l) {
      l.forEach(r -> {
          r.setAbsoluteSize(42, 42);
          r.draw();
      });
  }
}
```

### 13.1.2 API λ²„μ „ 2

- **μ¶”κ°€ μ”κµ¬μ‚¬ν•­** : Resiableμ„ κµ¬ν„ν•λ” Squareμ™€ Rectangle κµ¬ν„μ„ κ°μ„  μ”μ²­
    
    <img width="310" alt="α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί_2025-05-25_α„‹α…©α„’α…®_5 26 54" src="https://github.com/user-attachments/assets/35a1d32a-a99d-4c86-91df-fe4a0ffcfb79" />

    - Resizableμ— λ©”μ„λ“λ¥Ό μ¶”κ°€ν•λ©° APIκ°€ λ³€κ²½λ¨ β†’ μΈν„°νμ΄μ¤ μμ • ν›„ μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ¬μ»΄νμΌν•λ©΄ μ—λ¬ λ°μƒ

```java
public interface Resizable extends Drawable {
    int getWidth();
    int getHeight();
    void setWidth(int width);
    void setHeight(int height);
    void setAbsoluteSize(int width, int height);
    void setRelativeSize(int wFactor, int hFactor); // API λ²„μ „ 2μ— μ¶”κ°€λ μƒλ΅μ΄ λ©”μ„λ“
}
```

- **μ‚¬μ©μκ°€ κ²λ” λ¬Έμ **
    - Resizable μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” λ¨λ“  ν΄λμ¤λ” `setRelativeSize()`λ¥Ό κµ¬ν„ν•΄μ•Ό ν•μ§€λ§ λΌμ΄λΈλ¬λ¦¬ μ‚¬μ©μκ°€ μ§μ ‘ κµ¬ν„ν• Ellipseλ” `setRelatvieSize()`λ¥Ό κµ¬ν„ν•μ§€ μ•κ³  μλ‹¤.
    - μ΄ μƒν™©μ—μ„λ” **λ°”μ΄λ„λ¦¬ νΈν™μ„±**μ€ μ μ§€λλ‹¤.

> [!TIP]
> **λ°”μ΄λ„λ¦¬ νΈν™μ„±**μ΄λ€?
> β†’ μƒλ΅ μ¶”κ°€λ λ©”μ„λ“λ¥Ό νΈμ¶ν•μ§€λ§ μ•μΌλ©΄ μƒλ΅μ΄ λ©”μ„λ“ κµ¬ν„μ΄ μ—†μ΄λ„ κΈ°μ΅΄ ν΄λμ¤ νμΌ κµ¬ν„μ΄ μ λ™μ‘ν•λ„λ΅ ν•λ” κ²ƒ


**βπ»Β κ·Έλ ‡λ‹¤λ©΄ λ¬Έμ λ”?**

1. **λ°νƒ€μ„ μ—λ¬(AbstractMethodError)**
    - λ„κµ°κ°€κ°€ Resizableμ„ μΈμλ΅ λ°›λ” Utils.paintμ—μ„ setRelativeSizeλ¥Ό μ‚¬μ©ν•λ„λ΅ μ½”λ“λ¥Ό μμ •ν•κ³  Ellipse κ°μ²΄λ¥Ό μΈμλ΅ μ „λ‹¬ν•λ‹¤λ©΄,
    - λ©”μ„λ“λ¥Ό μ •μν•μ§€ μ•μ€ ν΄λμ¤(Ellipse)μ— λ€ν•΄ **λ°νƒ€μ„ μ—λ¬ (AbstractMethodError)** λ°μƒ
    
    ```java
    Exception in thread "main" java.lang.AbstractMethodError:
    Ellipse.setRelativeSize(II)V
    ```
    
2. **μ»΄νμΌ μ—λ¬**
    - setRelatvieSize()κ°€ ν¬ν•¨λ APIλ¥Ό κΈ°λ°μΌλ΅ μ „μ²΄ μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ¬λΉλ“ν•λ©΄,
    - Ellipse ν΄λμ¤κ°€ ν•΄λ‹Ή λ©”μ„λ“λ¥Ό κµ¬ν„ν•μ§€ μ•μ•κΈ° λ•λ¬Έμ— **μ»΄νμΌ μ—λ¬ λ°μƒ**
    
    ```java
    error: Ellipse is not abstract and does not override abstract method
    ```
    

**βπ»Β κ³µκ° API λ²„μ „ κ΄€λ¦¬μ μ–΄λ ¤μ›€**

- **λ¬Έμ μ  μ”μ•½**
    - APIλ¥Ό λ°”κΎΈλ©΄ κΈ°μ΅΄ λ²„μ „κ³Όμ νΈν™μ„± μ μ§€κ°€ μ–΄λ µλ‹¤.
    - Ex) κ³µμ‹ μλ°” μ»¬λ ‰μ… API κ°™μ€ κΈ°μ΅΄ API μμ •μ΄ μ–΄λ µλ‹¤.
- **κΈ°μ΅΄ λ€μ•(λ¶νΈν•¨ μ΅΄μ¬)**
    - μμ‹ μ APIλ¥Ό λ²„μ „λ³„λ΅ λ‚λ„μ–΄ κ΄€λ¦¬ (μ: v1, v2)
    - μ„ λ°©λ²•μ€ λ‹¤μκ³Ό κ°™μ€ μ–΄λ ¤μ›€μ΄ μ΅΄μ¬ν•λ‹¤.
        1. λΌμ΄λΈλ¬λ¦¬ κ΄€λ¦¬ λ³µμ΅λ„κ°€ μ¦κ°€ν•λ‹¤.
        2. μ‚¬μ©μ μ½”λ“κ°€ κµ¬λ²„μ „κ³Ό μ‹ λ²„μ „μ„ λ™μ‹μ— μ‚¬μ©ν•κ² λλ‹¤. β†’ ν΄λμ¤ νμΌμ΄ μ¦κ°€ν•΄ λ©”λ¨λ¦¬, λ΅λ”© μ‹κ°„μ΄ μ¦κ°€

**β…Β λ””ν΄νΈ λ©”μ„λ“λ΅ ν•΄κ²°**

- default ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•λ©΄, **μΈν„°νμ΄μ¤μ— κΈ°λ³Έ κµ¬ν„ μ¶”κ°€κ°€ κ°€λ¥**ν•λ‹¤.
- **κΈ°μ΅΄ κµ¬ν„ ν΄λμ¤λ” κ·Έλ€λ΅ λ‘κ³ ,** μƒλ΅μ΄ κΈ°λ¥μ€ μλ™μΌλ΅ ν¬ν•¨μ‹ν‚¬ μ μλ‹¤.

> [!TIP]
> **λ°”μ΄λ„λ¦¬ νΈν™μ„± vs μ†μ¤ νΈν™μ„± vs λ™μ‘ νΈν™μ„±**
> 1. **λ°”μ΄λ„λ¦¬ νΈν™μ„±**
>    - κΈ°μ΅΄ λ°”μ΄λ„λ¦¬ νμΌ(class νμΌ)μ„ λ‹¤μ‹ μ»΄νμΌν•μ§€ μ•κ³ λ„ μ‹¤ν–‰ κ°€λ¥ν• κ²½μ°
>    - μ¦‰, μμ „ μ»΄νμΌλ ν΄λμ¤ νμΌμ΄ λ³€κ²½λ μ½”λ“μ™€ ν•¨κ» λ¬Έμ  μ—†μ΄ λ™μ‘ν•  μ μμΌλ©΄ λ°”μ΄λ„λ¦¬ νΈν™μ„±μ΄ μ μ§€λ κ²ƒ
>    - Ex) μΈν„°νμ΄μ¤μ— λ©”μ„λ“λ¥Ό μ¶”κ°€ν–μ„ λ•, **μ¶”κ°€λ λ©”μ„λ“κ°€ νΈμ¶λμ§€ μ•μΌλ©΄** λ¬Έμ  X    
>    π‘‰ ν•µμ‹¬ μ΅°κ±΄: **μƒ λ©”μ„λ“λ¥Ό νΈμ¶ν•μ§€ μ•μ**
>    
> 2. **μ†μ¤ νΈν™μ„±** 
>    - κΈ°μ΅΄ μ†μ¤ μ½”λ“λ¥Ό λ³€κ²½λ μλ°” APIμ— λ§μ¶° λ‹¤μ‹ μ»΄νμΌν–μ„ λ• λ¬Έμ  μ—†μ΄ μ»΄νμΌλλ” κ²½μ°
>    - μΈν„°νμ΄μ¤μ— λ©”μ„λ“λ¥Ό μ¶”κ°€ν•λ©΄ μΌλ°μ μΌλ΅ λ¨λ“  κµ¬ν„ ν΄λμ¤κ°€ μƒ λ©”μ„λ“λ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ―€λ΅ μ†μ¤ νΈν™μ„±μ€ κΉ¨μ§
>    
>    π‘‰ ν•µμ‹¬ μ΅°κ±΄: **μƒλ΅μ΄ μΈν„°νμ΄μ¤ λ©”μ„λ“λ¥Ό κµ¬ν„ν•μ§€ μ•μ•„λ„ μ»΄νμΌμ΄ λμ–΄μ•Ό ν•¨**
>    
> 3. **λ™μ‘ νΈν™μ„±**
>    - **ν”„λ΅κ·Έλ¨μ μ‹¤ν–‰ κ²°κ³Όκ°€ μ½”λ“ λ³€κ²½ μ „ν›„μ— λ™μΌν• κ²½μ°**
>    - λ™μΌν• μ…λ ¥μ„ μ¤¬μ„ λ• ν”„λ΅κ·Έλ¨μ΄ **κ°™μ€ λ™μ‘μ„ μν–‰ν•κ³  κ°™μ€ μ¶λ ¥μ„ λ‚΄μ•Ό** λ™μ‘ νΈν™μ„±μ΄ μ μ§€λ κ²ƒ
>    - Ex) μΈν„°νμ΄μ¤μ— λ©”μ„λ“λ¥Ό μ¶”κ°€ν–λ”λΌλ„, ν•΄λ‹Ή λ©”μ„λ“λ¥Ό νΈμ¶ν•μ§€ μ•μΌλ©΄ κΈ°μ΅΄ λ™μ‘μ—λ” μν–¥μ΄ μ—†μ
>    
>    π‘‰ ν•µμ‹¬ μ΅°κ±΄: **μ‹¤ν–‰ κ²°κ³Όκ°€ λ°”λ€μ§€ μ•μ**
   

</br>

## 13.2 λ””ν΄νΈ λ©”μ„λ“λ€ λ¬΄μ—‡μΈκ°€?

- κ³µκ°λ APIμ— μƒλ΅μ΄ λ©”μ„λ“λ¥Ό μ¶”κ°€ν•λ©΄ κΈ°μ΅΄ ν΄λμ¤κ°€ μ΄ λ©”μ„λ“λ¥Ό κµ¬ν„ν•μ§€ μ•μ•„ **νΈν™μ„± λ¬Έμ κ°€ λ°μƒ**
- μλ°” 8μ—μ„λ” μ΄λ¬ν• λ¬Έμ λ¥Ό ν•΄κ²°ν•κ³  API μ§„ν™”λ¥Ό κ°€λ¥ν•κ² ν•κΈ° μ„ν•΄ **λ””ν΄νΈ λ©”μ„λ“(default method)** κ°λ…μ„ λ„μ…
- **μΈν„°νμ΄μ¤μ— κΈ°λ³Έ κµ¬ν„μ„ ν¬ν•¨μ‹ν‚¬ μ μκ² ν•¨**

**βπ»Β λ””ν΄νΈ λ©”μ„λ“μ κµ¬μ΅°**

- default ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•΄ **μΈν„°νμ΄μ¤ λ‚΄μ— λ©”μ„λ“μ κΈ°λ³Έ κµ¬ν„μ„ μ κ³µν•λ‹¤.**
- κΈ°μ΅΄ κµ¬ν„ ν΄λμ¤λ” ν•΄λ‹Ή λ©”μ„λ“λ¥Ό κµ¬ν„ν•μ§€ μ•μ•„λ„ λλ‹¤.

μμ 

```java
public interface Sized {
    int size();

    default boolean isEmpty() {
        return size() == 0;
    }
}
```

- Sized μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” λ¨λ“  ν΄λμ¤λ” isEmptyμ κµ¬ν„λ„ μƒμ†λ°›λ”λ‹¤.
    
    β†’ **μ†μ¤ νΈν™μ„± & λ°”μ΄λ„λ¦¬ νΈν™μ„±** μ μ§€
    

```java
default void setRelativeSize(int wFactor, int hFactor) {
    setAbsoluteSize(getWidth() / wFactor, getHeight() / hFactor);
}
```

- Resizable μΈν„°νμ΄μ¤μ— λ‹¤μκ³Ό κ°™μ€ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ κ³µν•λ©΄ κΈ°μ΅΄ ν΄λμ¤κ°€ κΉ¨μ§€λ” κ²ƒμ„ λ§‰μ„ μ μλ‹¤.

**βπ»Β μλ°” 8 μ΄ν›„μ ν™μ© μμ‹**

- List.sort(), Collection.stream() λ“± μλ°” 8 ν‘μ¤€ APIμ— ν¬ν•¨λ λ§μ€ λ©”μ„λ“κ°€ λ””ν΄νΈ λ©”μ„λ“λ΅ κµ¬ν„λμ—λ‹¤.
- Predicate, Function, Comparator, UnaryOperator κ°™μ€ ν•¨μν• μΈν„°νμ΄μ¤μ—λ„ λ””ν΄νΈ λ©”μ„λ“ ν¬ν•¨ν•λ‹¤.


> [!IMPORTANT]
> **μ¶”μƒν΄λμ¤ vs μλ°” 8 μΈν„°νμ΄μ¤**
> | **ν•­λ©** | **μ¶”μƒ ν΄λμ¤** | **μλ°” 8 μΈν„°νμ΄μ¤** |
> | --- | --- | --- |
> | μƒμ† μ ν• | ν•λ‚λ§ κ°€λ¥ | μ—¬λ¬ κ° κµ¬ν„ κ°€λ¥ |
> | μƒνƒ λ³΄μ΅΄ | μΈμ¤ν„΄μ¤ λ³€μ κ°€μ§ μ μμ | κ°€μ§ μ μ—†μ |
> | λ©”μ„λ“ κµ¬ν„ | λ°”λ”” ν¬ν•¨ κ°€λ¥ | defaultμ™€ static ν‚¤μ›λ“λ΅λ§ κ°€λ¥ |
